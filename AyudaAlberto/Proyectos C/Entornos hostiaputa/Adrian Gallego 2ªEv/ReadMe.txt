No he conseguido que compruebe bien la constraseña aunque le pase la misma, por eso está comentada en el main que si no, no funciona.